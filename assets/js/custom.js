var base_url=$("#base_url").val();function saveData(e){$.ajax({url:$(e).attr("action"),type:$(e).attr("method"),data:$(e).serialize(),dataType:"json",async:!1,beforeSend:function(){$(e).find(":submit").hide(),$body.addClass("loading")},success:function(e){Swal.fire({icon:e.error?"error":"success",title:e.error?"Oops...":"Success",text:e.message,timer:2e3,didOpen:()=>{Swal.showLoading()},willClose:()=>{clearInterval(void 0)}}).then(r=>{!e.error&&e.redirect&&(window.location.href=e.redirect)})},complete:function(){$(e).find(":submit").show(),$body.removeClass("loading")}})}function addToCart(e){let r=e.dataset.p_id,t=$("#add-qty-"+r).val()?$("#add-qty-"+r).val():1,a=$("#ca_size_id").val()?$("#ca_size_id").val():$("#ca_size").val()?$("#ca_size").val():"";$.ajax({type:"POST",url:base_url+"add-cart",data:{p_id:r,qty:t,ca_size:a},dataType:"json",success:function(e){Swal.fire({icon:e.error?"error":"success",title:e.error?"Oops...":"Success",text:e.message}).then(()=>{location.reload()})}})}function addWishlist(e){$.ajax({type:"POST",url:base_url+"add-wishlist",data:{p_id:e.dataset.p_id},dataType:"json",success:function(e){Swal.fire({icon:e.error?"error":"success",title:e.error?"Oops...":"Success",text:e.message}).then(()=>{location.reload()})}})}function cancelOrder(e){$.ajax({type:"POST",url:base_url+"cancel",data:{order_id:$(e).attr("id")},dataType:"json",success:function(e){Swal.fire({icon:e.error?"error":"success",title:e.error?"Oops...":"Success",text:e.message}).then(()=>{location.reload()})}})}function returnOrder(e){$.ajax({type:"POST",url:base_url+"return",data:{order_id:$(e).attr("id")},dataType:"json",success:function(e){Swal.fire({icon:e.error?"error":"success",title:e.error?"Oops...":"Success",text:e.message}).then(()=>{location.reload()})}})}function showProd(e){$.ajax({type:"GET",url:base_url+"prod-info",data:{p_id:e},dataType:"html",success:function(e){$("#show-prod").html(e),$(".pro-new").prepend('<span class="dec qtybtn">-</span>'),$(".pro-new").append('<span class="inc qtybtn">+</span>'),$(".product-large-slider-new").slick({fade:!0,autoplay:!1,arrows:!1,speed:1e3,asNavFor:".pro-nav-new"}),$(".pro-nav-new").slick({slidesToShow:4,asNavFor:".product-large-slider-new",centerMode:!0,speed:1e3,centerPadding:0,focusOnSelect:!0,prevArrow:'<button type="button" class="slick-prev"><i class="lnr lnr-chevron-left"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="lnr lnr-chevron-right"></i></button>',responsive:[{breakpoint:576,settings:{slidesToShow:3}}]}),$("#quick_view").modal("show")}})}function checkout(e){var r=$(e).serialize();$.ajax({url:$(e).attr("action"),type:"POST",dataType:"json",data:r,success:function(t){if(1!=t.error){var a={key:"rzp_live_Jf7dJMbtMe1xSC",secret:"7QSfgUjxMW5xWKY3ingxBgWN",amount:100*t.message,description:"Payment",prefill:{name:t.name,contact:t.mobile,email:t.email},handler:function(t){r+="&payment_id="+t.razorpay_payment_id,$.ajax({url:base_url+"save-order",type:"POST",dataType:"json",data:r,success:function(r){Swal.fire({icon:r.error?"error":"success",title:r.error?"Oops...":"Success",text:r.message}).then(t=>{$(e).find("button[type=submit]").prop("disabled",!1),r.redirect&&(window.location.href=r.redirect)})}})},modal:{ondismiss:function(){$(e).find("button[type=submit]").prop("disabled",!1)}}};new Razorpay(a).open()}else Swal.fire({icon:"error",title:"Oops...",text:t.message}).then(r=>{$(e).find("button[type=submit]").prop("disabled",!1)})}})}function checkout_develop(e){var r=$(e).serialize();$.ajax({url:base_url+"save-order",type:"POST",dataType:"json",data:r,success:function(e){Swal.fire({icon:e.error?"error":"success",title:e.error?"Oops...":"Success",text:e.message}).then(r=>{e.redirect&&(window.location.href=e.redirect)})}})}$body=$("body"),$(document).keydown(function(e){if(123===e.which)return!1}),$body.removeClass("loading"),$("#signup-form").validate({ignore:".ignore",rules:{fname:{required:!0,maxlength:255},mname:{required:!0,maxlength:255},lname:{required:!0,maxlength:255},email:{required:!0,email:!0,maxlength:255},mobile:{required:!0,minlength:10,maxlength:10,number:!0},password:{required:!0},re_password:{required:!0,equalTo:"#password"}},errorPlacement:function(e,r){},submitHandler:function(e){saveData(e)}}),$("#login-form").validate({rules:{mobile:{required:!0,minlength:10,maxlength:10,number:!0},password:{required:!0}},errorPlacement:function(e,r){},submitHandler:function(e){saveData(e)}}),$("#otp-form").validate({rules:{mobile:{required:!0,minlength:10,maxlength:10,number:!0},otp:{required:!0,minlength:6,maxlength:6,number:!0}},errorPlacement:function(e,r){},submitHandler:function(e){saveData(e)}}),$("#code-form").validate({rules:{coupen_code:{required:!0}},errorPlacement:function(e,r){},submitHandler:function(e){saveData(e)}}),$("#checkout-form").validate({rules:{address:{required:!0},city:{required:!0,maxlength:255},state:{required:!0,maxlength:255},country:{required:!0,maxlength:255},postcode:{required:!0,minlength:6,maxlength:6},pancard:{required:!0,minlength:10,maxlength:10}},errorPlacement:function(e,r){},submitHandler:function(e){e.submit()}}),$(".qtybtn").click(function(){if(-1!=window.location.pathname.indexOf("cart")){var e=$(this),r=e.parent().find("input").val();if(e.hasClass("inc"))var t=parseInt(r)+1;else{if(!(r>1))return!1;t=parseInt(r)-1}let a=$(this).siblings("input").data("id");$.ajax({type:"POST",url:base_url+"update-cart",data:{qty:t,cart_id:a},dataType:"json",success:function(e){Swal.fire({icon:e.error?"error":"success",title:e.error?"Oops...":"Success",text:e.message}).then(()=>{location.reload()})}})}}),$(".delete-cart").click(function(e){e.preventDefault();let r=$(this).data("id");$.ajax({type:"POST",url:base_url+"cart-delete",data:{cart_id:r},dataType:"json",success:function(e){Swal.fire({icon:e.error?"error":"success",title:e.error?"Oops...":"Success",text:e.message}).then(r=>{!e.error&&r.isConfirmed&&location.reload()})}})}),$(".delete-wish").click(function(e){e.preventDefault();let r=$(this).data("id");$.ajax({type:"POST",url:base_url+"wish-delete",data:{cart_id:r},dataType:"json",success:function(e){Swal.fire({icon:e.error?"error":"success",title:e.error?"Oops...":"Success",text:e.message}).then(r=>{!e.error&&r.isConfirmed&&location.reload()})}})}),$("input[name=password]").bind("cut copy paste",function(e){e.preventDefault()});